<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Win95</title>
    <link rel="stylesheet" th:href="@{/css/style.css}"/>
    <link rel="stylesheet" th:href="@{/clippy/build/clippy.css}"/>
</head>
<body>
<!--desktop icons-->
<div th:insert="~{components/desktop-icons :: iconFragment('/win98_icons/computer_explorer_cool-0.png', 'My Computer', 40, 40)}"></div>
<div th:insert="~{components/desktop-icons :: iconFragment('/win98_icons/world-3.png', 'Web browser', 150, 40)}"></div>
<div th:insert="~{components/desktop-icons :: iconFragment('/win98_icons/recycle_bin_empty-5.png', 'Recycle Bin', 500, 40)}"></div>

<!-- Main Window -->
<div class="retro-window">
    <div class="window-title-bar">
        <div class="window-title"><img th:src="@{/win98_icons/internet_connection_wiz-1.png}" alt="worldIcon">
            Chatterbox95.com - Internet's Hub of Cha... - Web browser
        </div>
        <div class="window-controls">
            <div class="window-btn">_</div>
            <div class="window-btn">□</div>
            <div class="window-btn">×</div>
        </div>
    </div>

    <div class="menu-bar">
        <span>File</span><span>Edit</span><span>View</span><span>Go</span><span>Favorites</span><span>Help</span>
    </div>

    <div class="menu-bar">
        <img th:src="@{/win98_icons/directory_open_cool-5.png}" title="Open">
        <img th:src="@{/win98_icons/printer-2.png}" title="Print">
        <img th:src="@{/win98_icons/envelope_closed-0.png}" title="Message">
        <img th:src="@{/win98_icons/homepage_alt.png}" title="Home">
        <img th:src="@{/win98_icons/search_directory-2.png}" title="Search">
        <img th:src="@{/win98_icons/address_book_card_copy-0.png}" title="Copy">
        <img th:src="@{/win98_icons/address_book_card.png}" title="Paste">
    </div>

    <div class="window-content">
        <h1 class="retro-title">Welcome to Chatterbox!! :)</h1>

        <!--posts form-->
        <form th:action="@{/post}" th:object="${newPost}" method="post" class="retro-form">
            <textarea th:field="*{content}" placeholder="Write something..." class="retro-textarea" required></textarea>
            <button type="submit" class="retro-button">Post</button>
        </form>

        <h2 class="retro-subtitle">View most recent posts: </h2>
        <!--posts-->
        <div th:each="post : ${posts}" class="retro-post">
            <p class="post-content" th:text="${post.content}"></p>
            <small class="post-date" th:text="${#dates.format(post.createdAt, 'dd.MM.yyyy HH:mm')}"></small>
        </div>
    </div>
</div>

<div th:replace="components/window :: retroWindow(
    'My App',
    @{/win98_icons/ac_plug-1.png},
    '<p>This is the content inside the window!</p>'
)">
</div>


<div th:insert="components/taskbar :: taskbar"></div>


<script th:src="@{/js/desktop.js}"></script>
<script th:src="@{/js/clippy-init.js}"></script>
<script th:src="@{/clippy/build/clippy.min.js}"></script>
<script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@xenova/transformers@2.7.0/dist/transformers.min.js"></script>
</body>
</html>
